(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{128:function(e,t,a){e.exports=a(187)},132:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),s=a.n(i),o=(a(132),a(120)),l=a(75),c=a.n(l),u=a(97),h=a(98),d=a(99),m=a(121),f=a(119),p=a(100),g=a(32),v=a.n(g),y=a(227),E=a(231),k=a(224),b=a(232),S=a(225),x=a(226),C=a(223),w=a(230),I=a(62),A=a(228),O=a(229);v.a.apps.length||v.a.initializeApp({apiKey:"AIzaSyAlAJb9WhwpIQFMIr71xo4o4mak4ZKcCtQ",authDomain:"chat-9c8a0.firebaseapp.com",databaseURL:"https://chat-9c8a0.firebaseio.com",projectId:"chat-9c8a0",storageBucket:"chat-9c8a0.appspot.com",messagingSenderId:"864745586248",appId:"1:864745586248:web:f275311335afe2b46fa27d",measurementId:"G-K5XC06RPR6"});var D=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).state={messages:[],user:{},isAuthenticated:!1},e}return Object(d.a)(a,[{key:"signIn",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new v.a.auth.GoogleAuthProvider,e.prev=1,e.next=4,v.a.auth().signInWithPopup(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){v.a.auth().signOut()}},{key:"componentDidMount",value:function(){var e=this;v.a.auth().onAuthStateChanged((function(t){t?(e.setState({isAuthenticated:!0,user:t}),e.loadMessages()):e.setState({isAuthenticated:!1,user:{},messages:[]})}))}},{key:"loadMessages",value:function(){var e=this;v.a.database().ref("/messages/").limitToLast(12).on("child_added",(function(t){var a=t.val();a.id=t.key;var n=e.state.messages;n.push(a),e.setState({messages:n})}))}},{key:"renderPopup",value:function(){var e=this;return r.a.createElement(w.a,{open:!this.state.isAuthenticated},r.a.createElement(C.a,{id:"simple-dialog-title"},"Sign in"),r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(b.a,{button:!0,onClick:function(){return e.signIn()}},r.a.createElement(S.a,null,r.a.createElement(E.a,{style:{backgroundColor:"#eee"}},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",height:"30",alt:"G"}))),r.a.createElement(x.a,{primary:"Sign in with Google"})))))}},{key:"onSend",value:function(e){var t,a=Object(o.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;this.saveMessage(n)}}catch(r){a.e(r)}finally{a.f()}}},{key:"saveMessage",value:function(e){return v.a.database().ref("/messages/").push(e).catch((function(e){console.error("Error saving message to Database:",e)}))}},{key:"renderSignOutButton",value:function(){var e=this;return this.state.isAuthenticated?r.a.createElement(y.a,{onClick:function(){return e.signOut()}},"Sign out"):null}},{key:"renderChat",value:function(){var e=this;return r.a.createElement(p.GiftedChat,{user:this.chatUser,messages:this.state.messages.slice().reverse(),onSend:function(t){return e.onSend(t)}})}},{key:"renderChannels",value:function(){return r.a.createElement(k.a,null,r.a.createElement(b.a,{button:!0},r.a.createElement(S.a,null,r.a.createElement(E.a,null,"D")),r.a.createElement(x.a,{primary:"Default"})))}},{key:"renderChannelsHeader",value:function(){return r.a.createElement(A.a,{position:"static",color:"default"},r.a.createElement(O.a,null,r.a.createElement(I.a,{variant:"h6",color:"inherit"},"Channels")))}},{key:"renderChatHeader",value:function(){return r.a.createElement(A.a,{position:"static",color:"default"},r.a.createElement(O.a,null,r.a.createElement(I.a,{variant:"h6",color:"inherit"},"Default channel")))}},{key:"renderSettingsHeader",value:function(){return r.a.createElement(A.a,{position:"static",color:"default"},r.a.createElement(O.a,null,r.a.createElement(I.a,{variant:"h6",color:"inherit"},"Settings")))}},{key:"render",value:function(){return r.a.createElement("div",{style:j.container},this.renderPopup(),r.a.createElement("div",{style:j.channelList},this.renderChannelsHeader(),this.renderChannels()),r.a.createElement("div",{style:j.chat},this.renderChatHeader(),this.renderChat()),r.a.createElement("div",{style:j.settings},this.renderSettingsHeader(),this.renderSignOutButton()))}}]),a}(n.Component),j={container:{flex:1,display:"flex",flexDirection:"row",height:"100vh"},channelList:{display:"flex",flex:1,flexDirection:"column"},chat:{display:"flex",flex:3,flexDirection:"column",borderWidth:"1px",borderColor:"#ccc",borderRightStyle:"solid",borderLeftStyle:"solid"},settings:{display:"flex",flex:1,flexDirection:"column"}};s.a.render(r.a.createElement(D,null),document.getElementById("root"));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[128,1,2]]]);
//# sourceMappingURL=main.3d0339c1.chunk.js.map